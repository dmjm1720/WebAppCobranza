<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf">
    <h:head>
        <title>Login</title>
        <h:outputStylesheet name="css/modal.css"></h:outputStylesheet>
        <!--        <h:outputStylesheet name="css/login1.css"></h:outputStylesheet>-->
    </h:head>
    <body>
        <button onclick="document.getElementById('id01').style.display = 'block'" style="width:auto;">LOGIN</button>
        <div id="id01" class="modal">
            <h:form id="formLogin" class="modal-content animate" style="text-align: center">   
                <p:growl id="mensajeGeneral" sticky="true" autoUpdate="true" showDetail="true" life="3000" />
                <div class="imgcontainer">
                    <span onclick="document.getElementById('id01').style.display = 'none'" class="close" title="Cerrar ventana">&times;</span>
                    <img src="Images/loginaccount.png" alt="Login" class="avatar"/>
                </div>
                <div class="container">

                         <label for="uname"><b>Usuario</b></label>
                         <input type="text" name="uname" jsf:value="#{loginBean.usuario.nombre}" placeholder="Ingresa tu usuario" required="true" label="username" jsf:requiredMessage="Requiere Usuario" onkeyup="javascript:this.value = this.value.toUpperCase();"/>
                         <label for="psw"><b>Password</b></label>
                         <input type="password" name="psw" placeholder="Ingresa tu password" jsf:value="#{loginBean.usuario.clave}" required="true" label="password" requiredMessage="Requiere Password"/>
                            <p:commandButton id="inicio"
                                             update="@all"
                                             value="Login" 
                                             actionListener="#{loginBean.login()}">
                            </p:commandButton>
                            <!--                            style="height: 40px; width: 80px; background-image: url('http://etiquetas.marubeni.com.mx:8090/MarubeniMexico/Images/sso-icon.png');background-size: 30px; background-repeat: no-repeat"-->

                </div>
            </h:form>
        </div>
        <script>
// Get the modal
            var modal = document.getElementById('id01');

// When the user clicks anywhere outside of the modal, close it
            window.onclick = function (event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                }
            }
        </script>

        <script type="text/javascript">
            function handleLoginRequest(xhr, status, args) {
                if (args.validationFailed || !args.loggedIn) {
                    jQuery('#formLogin').jq.effect("shake", {times: 1}, 100);
                } else {
                    location.href = args.ruta;
                }
            }
        </script>

    </body>
</html>

